<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Bad Joke Engine ‚òéÔ∏è</title>

<style>
body {
  margin: 0;
  height: 100vh;
  font-family: Inter, Arial, sans-serif;
  background: radial-gradient(circle at top, #020617, #000);
  color: #e5e7eb;
  display: flex;
  justify-content: center;
  align-items: center;
}

.card {
  width: 560px;
  background: #020617;
  border-radius: 18px;
  padding: 30px;
  box-shadow: 0 30px 70px rgba(0,0,0,.85);
}

h1 {
  margin: 0;
  font-size: 26px;
}

.subtitle {
  font-size: 13px;
  opacity: .7;
  margin-bottom: 18px;
}

select, button, textarea {
  width: 100%;
  padding: 12px;
  margin-top: 10px;
  border-radius: 10px;
  border: none;
  background: #1e293b;
  color: #e5e7eb;
  font-family: inherit;
}

textarea {
  resize: vertical;
  min-height: 70px;
}

button {
  background: #ef4444;
  font-weight: bold;
  cursor: pointer;
}

button:hover {
  background: #dc2626;
}

.output {
  margin-top: 18px;
  min-height: 90px;
  padding: 18px;
  border-radius: 12px;
  background: #000;
  border-left: 4px solid #334155;
  font-size: 16px;
}

.output.mail {
  border-left: 4px solid #22c55e;
}

.tags {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 10px;
}

.tag {
  padding: 6px 10px;
  border-radius: 999px;
  background: #020617;
  border: 1px solid #334155;
  font-size: 12px;
  cursor: pointer;
  opacity: .85;
}

.tag:hover {
  opacity: 1;
  background: #020617;
}

.metrics {
  margin-top: 18px;
  font-size: 13px;
  opacity: .85;
}

.streak {
  margin-top: 8px;
  font-size: 12px;
  opacity: .7;
}

footer {
  margin-top: 16px;
  font-size: 11px;
  opacity: .5;
  text-align: center;
}

.toast {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%) translateY(20px);
  background: #020617;
  border: 1px solid #334155;
  padding: 12px 18px;
  border-radius: 999px;
  font-size: 14px;
  opacity: 0;
  pointer-events: none;
  transition: all .3s ease;
}

.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}
</style>
</head>

<body>

<div class="card">
  <h1>‚òéÔ∏è Bad Joke Engine</h1>
  <p class="subtitle" id="subtitle">Because alignment is optional.</p>

  <select id="mode" onchange="updateMode()">
    <option value="pain">üé≠ Pain Generator</option>
    <option value="lies">üè¢ Corporate Lies</option>
    <option value="recognition">üèÜ Recognition Engine</option>
    <option value="reframer">üß† Reality Reframer</option>
  </select>

  <select id="role">
    <option value="agent">Agent</option>
    <option value="qa">QA</option>
    <option value="tm">Team Manager</option>
    <option value="ops">Operations</option>
    <option value="wfm">WFM / RTA</option>
    <option value="trainer">Trainer</option>
    <option value="client">Client</option>
    <option value="hr">HR</option>
  </select>

  <textarea id="vent" placeholder="Describe the situation (no names, no details). This stays local." style="display:none"></textarea>

  <button onclick="generate()">Generate</button>

  <div class="tags" id="kpiTags" style="display:none"></div>

  <div class="output" id="output"></div>
  <div class="streak" id="streak"></div>

  <button onclick="copyText()">üìã Copy</button>

  <div class="metrics" id="dashboard"></div>

  <footer>
    Built by people who answered the phone.
  </footer>
</div>

<div class="toast" id="toast"></div>

<script>
const subtitles = {
  pain: "Because alignment is optional.",
  lies: "This sentence means nothing.",
  recognition: "Real praise. Short. Honest.",
  reframer: "Write it out. Click a KPI."
};

const pain = {
  agent: ["Customer rebooted. Allegedly.", "Quick call confirmed. False."],
  qa: ["98% score. Focus on 2%.", "Silence detected."],
  tm: ["Meeting about another meeting.", "Action plan pending execution."],
  ops: ["Dashboard green. Floor burning.", "Forecast approved by optimism."],
  wfm: ["Shrinkage adjusted again.", "Excel says it works."],
  trainer: ["Everyone nodded. No one learned."],
  client: ["Can we do more with less?"],
  hr: ["We hear you."]
};

const lies = [
  "This won‚Äôt impact workload.",
  "Everyone was consulted.",
  "We are aligned.",
  "Let‚Äôs revisit next quarter.",
  "This is best practice."
];

const recognition = {
  agent: ["You handled chaos with professionalism. That matters."],
  qa: ["Your feedback improved quality without killing morale."],
  tm: ["You absorbed pressure so others could work."],
  ops: ["You made calls with incomplete data and owned them."],
  wfm: ["You kept the operation standing."],
  trainer: ["You prepared people for reality."],
  client: ["Thank you for the partnership."],
  hr: ["You balanced people and policy."]
};

const dashboards = {
  agent: "üìû AHT: üî¥ | CSAT: üü° | Patience: ‚ùå",
  qa: "üß™ Quality: üü¢ | Findings: üìà",
  tm: "üë• Morale: üî¥ | Alignment: üü°",
  ops: "üìä Forecast: üü° | Reality: üî¥",
  wfm: "‚è± Coverage: üü° | Shrinkage: üìà",
  trainer: "üéì Readiness: üü° | Retention: üî¥",
  client: "üìà KPIs: üü° | Scope: ‚ùå",
  hr: "üßë‚Äç‚öñÔ∏è Policy: üü¢ | Sentiment: üî¥"
};

const kpis = {
  "#AHT": ["AHT improves when conversations stop being conversations."],
  "#CSAT": ["CSAT reflects emotions influenced elsewhere."],
  "#FCR": ["FCR assumes issues are simple."],
  "#QA": ["Quality expects perfection in imperfect systems."],
  "#SLA": ["SLA assumes demand behaves."],
  "#Shrinkage": ["Shrinkage is reality interrupting plans."],
  "#Forecast": ["The forecast is accurate until tomorrow."],
  "#Attrition": ["Attrition reflects cumulative pressure."],
  "#Occupancy": ["Occupancy assumes humans behave like resources."],
  "#Backlog": ["Backlog represents deferred reality."],
  "#Adherence": ["Adherence competes with humanity."],
  "#Productivity": ["Productivity increases through expectation."],
  "#Utilization": ["Utilization ignores recovery."],
  "#Escalations": ["Escalations replace trust."]
};

let streak = Number(localStorage.getItem("streak")) || 0;

function updateMode() {
  const mode = document.getElementById("mode").value;
  document.getElementById("subtitle").innerText = subtitles[mode];
  document.getElementById("vent").style.display = mode === "reframer" ? "block" : "none";
  document.getElementById("kpiTags").style.display = mode === "reframer" ? "flex" : "none";
}

function generate() {
  const mode = document.getElementById("mode").value;
  const role = document.getElementById("role").value;
  let text = "";

  if (mode === "pain") text = random(pain[role]);
  if (mode === "lies") text = `"${random(lies)}"`;
  if (mode === "recognition") text = random(recognition[role]);
  if (mode === "reframer") text = "Select a KPI below to reframe.";

  document.getElementById("output").innerText = text;
  document.getElementById("dashboard").innerText = dashboards[role];
}

function buildKPIs() {
  const container = document.getElementById("kpiTags");
  container.innerHTML = "";
  Object.keys(kpis).forEach(k => {
    const el = document.createElement("div");
    el.className = "tag";
    el.innerText = k;
    el.onclick = () => showKPI(k);
    container.appendChild(el);
  });
}

function showKPI(kpi) {
  document.getElementById("output").innerText = random(kpis[kpi]);
  toast(`KPI reframed: ${kpi}`);
}

function copyText() {
  navigator.clipboard.writeText(document.getElementById("output").innerText);
  toast("Copied. Use responsibly.");
}

function toast(text) {
  const t = document.getElementById("toast");
  t.innerText = text;
  t.classList.add("show");
  setTimeout(() => t.classList.remove("show"), 2000);
}

function random(arr) {
  return arr[Math.floor(Math.random() * arr.length)];
}

buildKPIs();
updateMode();
</script>

</body>
</html>
